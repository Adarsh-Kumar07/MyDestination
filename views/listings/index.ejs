<% layout("/layouts/boilerplate") %>
  <body>
    <!-- Navbar -->
    <div class="navbar navbar-expand-lg navbar-light bg-white border-bottom mt-3">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarContent">
          <!-- City Links for large screens -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-none d-lg-flex">
            <li class="nav-item"><a class="nav-link city-link" href="/listings/delhi" data-city="delhi">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Delhi
              </div>
            </a></li>
            <li class="nav-item"><a class="nav-link city-link" href="/listings/bhopal" data-city="bhopal">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Bhopal
              </div>
            </a></li>
            <li class="nav-item"><a class="nav-link city-link" href="/listings/jaipur" data-city="jaipur">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Jaipur
              </div>
            </a></li>
            <li class="nav-item"><a class="nav-link city-link" href="/listings/mumbai" data-city="mumbai">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Mumbai
              </div>
            </a></li>
            <li class="nav-item"><a class="nav-link city-link" href="/listings/bengaluru" data-city="bengaluru">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Bengaluru
              </div>
            </a></li>
            <li class="nav-item"><a class="nav-link city-link" href="/listings/ahmedabad" data-city="ahmedabad">
              <div class="px-3 py-1 bg-light text-dark rounded border mx-1">
                Ahmedabad
              </div>
            </a></li>
          </ul>
      
          <!-- Dropdown for small screens -->
          <form class="d-lg-none w-100 mt-2">
            <select class="form-select" id="cityDropdown">
              <option value="all">All Cities</option>
              <option value="newyork">New York</option>
              <option value="losangeles">Los Angeles</option>
              <option value="chicago">Chicago</option>
            </select>
          </form>
        </div>
      </div>
    </div>
    
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
      <% for(let listing of allListings) { %>
        <a class="listing-link" href="/listings/<%= listing._id %>" > 
          <div class="card col listing-card">
            <img src="<%= listing.image %>" class="card-img-top" alt="Room Image" style="height: 20rem;">
            <div class="card-img-overlay"></div>
            <div class="card-body">
              <h4 class="card-text"><%= listing.title %> </h4>
              <p class="card-text"><%= listing.location %>, <%= listing.country %></p>
              <h5 class="card-text">&#8377; <%= listing.price.toLocaleString("en-IN") %>/Night</h5>
            </div>
          </div>
        </a>
        <% } %>
    </div>
  </body>